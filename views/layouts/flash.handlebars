<nav class="navbar gradient-bg">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <a class="navbar-brand">Flashcard App</a>
        </div>
    </div><!-- /.container-fluid -->
</nav>

<div class="container-fluid">

    <div class="row">
        <div class="col-md-10 col-md-offset-1">
            <button class="btn btn-primary pull-right" data-toggle="modal" data-target=".add-form"><i class="fa fa-plus"></i>&nbsp;Add</button>
        </div>
    </div>

    <div class="col-md-8 col-md-offset-2">
        <div class="panel-group" id="accordion">
            {{#each terms}}
                <div class="panel panel-default">
                    <div class="panel-heading" data-toggle="collapse" href="#defination{{@index}}">
                        <h4 class="panel-title">
                            <a data-parent="#accordion" >
                                {{term}}
                            </a>
                        </h4>
                    </div>
                    <div id="defination{{@index}}" class="panel-collapse collapse">
                        <div class="panel-body">
                            {{definition}}
                        </div>
                    </div>
                </div>
            {{else}}
                <div class="alert alert-danger">
                    <p class="text-center">List is empty</p>
                </div>
            {{/each}}
        </div>
    </div>

</div>

<div class="modal fade add-form" id="form-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <form id="form3" class="form-horizontal" action="/" method="post"  enctype="application/x-www-form-urlencoded">
                <div class="modal-header">
                    <h5 class="modal-title">Modal title</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="modal-body">
                    <table class="table table-bordered form-table">
                        <tr style="text-align: center;">
                            <td><input type="text" maxlength="100" name="term" class="form-control" placeholder="Add Term" required></td>
                            <td><textarea  name="definition" class="form-control" placeholder="Definition" required></textarea></td>
                            <td><i class="fa fa-plus add"></i> </td>
                        </tr>
                    </table>
                </div>

                <div class="modal-footer">
                    <button type="submit" class="btn btn-success " id="insert3">Save</button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    $(document).ready(function(){
        $(document).on("click","i.add",function() {
            var rows = $('.form-table tbody  tr').length;
            var $tr    = $(this).closest('tr');
            var tr = '<tr style="text-align: center;">'+
                     '<td><input type="text" maxlength="100" name="term" class="form-control" placeholder="Add Term" required></td>'+
                    '<td><textarea  name="definition" class="form-control" placeholder="Definition" required></textarea></td>'+
                    '<td><i class="fa fa-minus"></i> &nbsp; <i class="fa fa-plus add"></i></td></tr>';

            $tr.after(tr);
            if(rows == 1)
                $(this).addClass('fa-minus').removeClass('fa-plus add');
            else
                $(this).remove();
        });

        $(document).on("click","i.fa-minus",function() {
            var rows = $('.form-table tbody  tr').length;
            if(rows == 2){
                $(this).parent().parent().prev().find('i.fa-minus').addClass('fa-plus add').removeClass('fa-minus');
            }
            $(this).parent().parent().remove();
        });
    });
</script>